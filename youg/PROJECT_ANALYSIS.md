# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ Task Tracker

## HTTP –ú–µ—Ç–æ–¥—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ

### Backend Endpoints (31 endpoint):

**GET** (18 endpoints):
- `/` - root
- `/api/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/api/users/{id}` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ ID
- `/api/companies` - —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π
- `/api/companies/{id}` - –∫–æ–º–ø–∞–Ω–∏—è –ø–æ ID
- `/api/projects` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `/api/projects/{id}` - –ø—Ä–æ–µ–∫—Ç –ø–æ ID
- `/api/projects/{id}/members` - —á–ª–µ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞
- `/api/roles` - —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π
- `/api/boards` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å–æ–∫
- `/api/boards/{id}` - –¥–æ—Å–∫–∞ –ø–æ ID
- `/api/boards/{id}/tasks` - –∑–∞–¥–∞—á–∏ –¥–æ—Å–∫–∏
- `/api/tasks/{id}` - –∑–∞–¥–∞—á–∞ –ø–æ ID

**POST** (8 endpoints):
- `/api/users` - —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/api/companies` - —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
- `/api/projects` - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
- `/api/project-members` - –¥–æ–±–∞–≤–∏—Ç—å —á–ª–µ–Ω–∞
- `/api/roles` - —Å–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
- `/api/boards` - —Å–æ–∑–¥–∞—Ç—å –¥–æ—Å–∫—É
- `/api/tasks` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É

**PATCH** (5 endpoints):
- `/api/users/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/api/companies/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
- `/api/projects/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `/api/tasks/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É

**DELETE** (8 endpoints):
- `/api/users/{id}` - —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/api/companies/{id}` - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
- `/api/projects/{id}` - —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `/api/project-members/{id}` - —É–¥–∞–ª–∏—Ç—å —á–ª–µ–Ω–∞
- `/api/roles/{id}` - —É–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å
- `/api/boards/{id}` - —É–¥–∞–ª–∏—Ç—å –¥–æ—Å–∫—É
- `/api/tasks/{id}` - —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É

**OPTIONS** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è CORS preflight

---

### Frontend API –≤—ã–∑–æ–≤—ã (30 —Ñ—É–Ω–∫—Ü–∏–π):

–í—Å–µ –≤—ã–∑–æ–≤—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç backend:
- ‚úÖ `api.get()` ‚Üí GET
- ‚úÖ `api.post()` ‚Üí POST
- ‚úÖ `api.patch()` ‚Üí PATCH
- ‚úÖ `api.delete()` ‚Üí DELETE

---

## ‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–Ω—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### 1. PUT –º–µ—Ç–æ–¥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
allow_methods=["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- PUT –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ allow_methods
- ‚ùå –ù–æ –ù–ò –û–î–ò–ù endpoint –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PUT
- ‚úÖ –í–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PATCH –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**

–õ–∏–±–æ —É–±—Ä–∞—Ç—å PUT (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```python
allow_methods=["GET", "POST", "PATCH", "DELETE", "OPTIONS"]
```

–õ–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—É–¥—É—â–µ–≥–æ (–¥–æ–ø—É—Å—Ç–∏–º–æ):
```python
allow_methods=["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 1. REST –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–±–ª—é–¥–µ–Ω—ã:
- ‚úÖ GET –¥–ª—è —á—Ç–µ–Ω–∏—è
- ‚úÖ POST –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ PATCH –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ DELETE –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

### 2. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å Frontend-Backend:
- ‚úÖ –í—Å–µ frontend –≤—ã–∑–æ–≤—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç backend endpoints
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ HTTP –º–µ—Ç–æ–¥—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ API

### 3. CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- ‚úÖ Preflight –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ origins

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å CORS (–£–±—Ä–∞—Ç—å PUT)

–¢–∞–∫ –∫–∞–∫ PUT –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –º–æ–∂–Ω–æ –µ–≥–æ —É–±—Ä–∞—Ç—å:

```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:3000",
        "http://localhost:5173",
        "http://127.0.0.1:3000",
        "http://127.0.0.1:5173"
    ],
    allow_credentials=True,
    allow_methods=["GET", "POST", "PATCH", "DELETE", "OPTIONS"],  # –£–±—Ä–∞–ª–∏ PUT
    allow_headers=["*"],
    expose_headers=["*"],
    max_age=3600,
)
```

### 2. –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å PUT –¥–ª—è –±—É–¥—É—â–µ–≥–æ

–ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PUT (–ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å–∞), –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å:

```python
allow_methods=["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
```

---

## üîÑ PATCH vs PUT

### PATCH (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ):
```python
@app.patch("/api/users/{user_id}")
def update_user(user_id: str, user_update: UserUpdate):
    # –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è
    update_data = user_update.dict(exclude_unset=True)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è)
- ‚úÖ –ë–æ–ª–µ–µ –≥–∏–±–∫–æ
- ‚úÖ –ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–µ

### PUT (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):
```python
@app.put("/api/users/{user_id}")
def replace_user(user_id: str, user: UserCreate):
    # –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ –æ–±—ä–µ–∫—Ç–∞
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å–∞
- –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

**–í—ã–≤–æ–¥:** PATCH –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞!

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–£–±—Ä–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π PUT:

```python
allow_methods=["GET", "POST", "PATCH", "DELETE", "OPTIONS"]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ß–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
- –¢–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã
- –ú–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° –∑–∞–ø–∞—Å–æ–º

–û—Å—Ç–∞–≤–∏—Ç—å PUT –Ω–∞ —Å–ª—É—á–∞–π –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```python
allow_methods=["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
- –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ PUT endpoints
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä REST –º–µ—Ç–æ–¥–æ–≤

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**Backend:**
- 31 endpoint
- 5 HTTP –º–µ—Ç–æ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (GET, POST, PATCH, DELETE, OPTIONS)
- 1 –º–µ—Ç–æ–¥ –≤ CORS –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (PUT)

**Frontend:**
- 30 API —Ñ—É–Ω–∫—Ü–∏–π
- –í—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç backend
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –∏–ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤

**CORS:**
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- ‚ö†Ô∏è PUT —Ä–∞–∑—Ä–µ—à—ë–Ω –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ –í—Å–µ origins –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç **–ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª–µ–Ω**! –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–£–±—Ä–∞—Ç—å PUT –∏–∑ allow_methods**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```python
allow_methods=["GET", "POST", "PATCH", "DELETE", "OPTIONS"]
```

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

---

*–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

